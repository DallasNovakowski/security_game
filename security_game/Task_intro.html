{{ block title }}
    Task preamble
{{ endblock }}
{{ block content }}

<p>
    In the following task, you will be given money and paired with another participant. You will then be randomly assigned to different roles: Yellow or Blue.
<br>
    <br>


    Blue will have the option to try stealing money from Yellow. If Blue tries and fails to steal, Blue loses money instead, with Yellow losing nothing.
<br>
    <br>
    Before Blue makes their choice, Yellow will have the chance to purchase a “security product.” The security product will cost money, but each unit purchased will reduce Blue's chance of successfully stealing.
<br>
    <br>
    After Yellow makes their purchasing decision, Blue will see the updated chances of success/failure.
</p>

<input type="hidden" name="ts_preamble" id="ts_preamble"/>


{{ next_button }}


<script>
//This bit creates 2 variables, one will function as a timer, the other will hold the timer output. They are set to 0 and -1 here to initialise them, these will not be the final outputs.
var pageTimeElapsed = 0;
var pageTimerID = -1;

//This function automatically starts the timer when the page loads. In this case I want seconds so the interval is set to 1000, but I believe if you set it to 1 then it will count milliseconds - you will need to test this
window.onload = function() {
  if(pageTimerID == -1){
    pageTimerID = setInterval(pageTick, 1000);
  }
};

//This function captures the timer output. When the timer starts it will increase 'pageTimeElapsed' every second and send this value to the 'timeSpent' variable that will be saved
//When a person moves to the next page, or the page times out, the final value that the timer was on will be saved. The value resets each round/page.
function pageTick() {
  pageTimeElapsed++
  document.getElementById("ts_preamble").value = pageTimeElapsed;
}
</script>

{{ endblock }}
