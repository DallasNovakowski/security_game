{{ block title }}
    Equal INvisible intro
{{ endblock }}
{{ block content }}

<p>
    You have been assigned to Yellow.
<br>
    <br>
    You and your partner (Blue) have each been given ${{ session.config.endowment }}. Blue does NOT know how much money you have received.
<br>
    <br>
    Shortly, Blue will decide whether they will try to steal ${{ session.config.lost_from_attacks }} from you.
    If Blue attempts to steal, but fails, you will lose nothing, and they will lose ${{session.config.failed_attack}}.
<br>
    <br>
Before Blue makes the choice whether to attack, you will have the opportunity to spend some of your money on a security product.
    Each unit purchased will reduce Blue's chance of successfully stealing. After your purchasing decision, Blue will see their updated chances of success/failure.

</p>

<input type="hidden" name="ts_intro" id="ts_intro"/>


{{ next_button }}


<script>
//This bit creates 2 variables, one will function as a timer, the other will hold the timer output. They are set to 0 and -1 here to initialise them, these will not be the final outputs.
var pageTimeElapsed = 0;
var pageTimerID = -1;

//This function automatically starts the timer when the page loads. In this case I want seconds so the interval is set to 1000, but I believe if you set it to 1 then it will count milliseconds - you will need to test this
window.onload = function() {
  if(pageTimerID == -1){
    pageTimerID = setInterval(pageTick, 1000);
  }
};

//This function captures the timer output. When the timer starts it will increase 'pageTimeElapsed' every second and send this value to the 'timeSpent' variable that will be saved
//When a person moves to the next page, or the page times out, the final value that the timer was on will be saved. The value resets each round/page.
function pageTick() {
  pageTimeElapsed++
  document.getElementById("ts_intro").value = pageTimeElapsed;
}
</script>

{{ endblock }}
